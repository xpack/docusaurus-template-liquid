{/* DO NOT EDIT! */}
{/* Automatically generated from docusaurus-template-liquid/templates/docusaurus. */}

{/* ------------------------------------------------------------------------ */}

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import Heading from '@theme/Heading';

import CommonNoAdministrativeRights from '../_common/_no-administrative-rights.mdx';

import ProjectTroubleshootingWindows from '../_project/_troubleshooting-windows.mdx';

{/* ------------------------------------------------------------------------ */}

## Installation

{%- if packageConfig.permalinkName == 'xpm' %}

:::caution

Please ensure that the **xpm** you are attempting to install is the
**xPack Project Manager**, as there are other projects that
unfortunately share the same name
(for example, verseles/xpm, the _uniX Package Manager_).

:::

{%- endif %}

The package is available as
[`{{packageScopedName}}`](https://www.npmjs.com/package/{{packageScopedName}}/)
from the public [`npmjs`](https://www.npmjs.com) repository;
it may be added as a
{% if packageConfig.hasCli != "true" %}dependency{% else %}development dependency{% endif %} to any **npm**
project or it may be installed into the user's global environment.

### Project installation

The command to install the
**latest** available version of **{{packageScopedName}}** as a development dependency in an **npm** project is:

```sh
npm install {{packageScopedName}}@latest{% if packageConfig.hasCli == "true" %} --save-dev{% endif %}
```

For a **specific version**, use the explicit version numbers:

<CodeBlock language="sh"> {
`npm install {{packageScopedName}}@{{releaseVersion}}{% if packageConfig.hasCli == "true" %} --save-dev{% endif %}
`} </CodeBlock>


### Global installation

Since the package provides executables, it may also
be installed globally and utilised in any project.

```sh
npm install --location=global {{packageScopedName}}@latest
```

For a **specific version**, use the explicit version numbers:

<CodeBlock language="sh"> {
`npm install --location=global {{packageScopedName}}@{{releaseVersion}}
`} </CodeBlock>

{%- if isXpackBinary == "true" %}

<Tabs groupId="operating-systems">

<TabItem value="windows" label="Windows" default>

On Windows, global Node.js packages are installed in the
user home folder, within `%APPDATA%\npm`
(such as `C:\Users\ilg\AppData\Roaming\npm`), and managing packages
does not require administrative rights.

The result of installing **{{packageScopedName}}** is a set of files in the `%APPDATA%\npm` folder:

```txt
C:\>dir "%APPDATA%"\npm\{{packageWebsiteConfig.programName}}*
 Volume in drive C has no label.
 Volume Serial Number is B02D-925C

 Directory of C:\Users\ilg\AppData\Roaming\npm

29/07/2024  07:24               397 {{packageWebsiteConfig.programName}}
29/07/2024  07:24               329 {{packageWebsiteConfig.programName}}.cmd
29/07/2024  07:24               821 {{packageWebsiteConfig.programName}}.ps1
               3 File(s)          1,547 bytes
               0 Dir(s)  39,088,439,296 bytes free
```

If you followed the instructions in the
prerequisites section, you should
already have this path configured and the programme should start normally:

<CodeBlock language="console"> {
`C:\>{{packageWebsiteConfig.programName}} --version
{{releaseVersion}}
`} </CodeBlock>

<ProjectTroubleshootingWindows />

</TabItem>

<TabItem value="macos" label="macOS">

On macOS, if you executed the `install-nvm-node-npm-xpm.sh` scripts described
in the previous section, you should
already have **npm** correctly configured to utilise a location in the home folder.

<CodeBlock language="console"> {
`% which {{packageWebsiteConfig.programName}}
/Users/ilg/.nvm/versions/node/${props.nodeVersion}/bin/{{packageWebsiteConfig.programName}}
`} </CodeBlock>

To test if **{{packageWebsiteConfig.programName}}** starts:

<CodeBlock language="console"> {
`% {{packageWebsiteConfig.programName}} --version
{{releaseVersion}}
`} </CodeBlock>

<Heading as="h3">Show macOS hidden files</Heading>

The default location used to install the global packages is
below `~/Library`, a folder that, due to an unfortunate Apple decision,
is hidden for regular browsing in Finder.

To make it visible again, utilise:

```sh
/usr/bin/chflags nohidden ~/Library
xattr -d com.apple.FinderInfo ~/Library
```

A more general solution is to make all hidden files visible:

```sh
defaults write com.apple.Finder AppleShowAllFiles true
killall Finder
```

Another frustrating behaviour of the file browser is to hide names beginning
with `.` (dot), which is unfortunate since the binary packages are
extracted into a folder named `.content`.

Fortunately, there is a workaround for this too:

```console
cmd+shift+'.'
```

This keyboard shortcut functions as a toggle; using it once makes files
beginning with dot visible,
and using it again reverts to hiding them.

</TabItem>

<TabItem value="linux" label="GNU/Linux">

On GNU/Linux, by default, when using system packages,
global Node.js packages are installed in
`/usr/local`, and managing them requires administrative rights,
but if you executed the `install-nvm-node-npm-xpm.sh` scripts described
in the previous section, you should
already have **npm** correctly configured to utilise a location in the home folder.

{%- if packageConfig.permalinkName == 'xpm' %}

:::note

Support for Arm platforms was
added in the 0.6.2 release of xpm.

:::

{%- endif %}

To test if {{packageWebsiteConfig.programName}} starts:

<CodeBlock language="console"> {
`$ which {{packageWebsiteConfig.programName}}
/home/ilg/.nvm/versions/node/${props.nodeVersion}/bin/{{packageWebsiteConfig.programName}}
$ {{packageWebsiteConfig.programName}} --version
{{releaseVersion}}
`} </CodeBlock>

</TabItem>

</Tabs>

{%- endif %}

## Uninstall

The command to remove **{{packageScopedName}}** from a project is:

```sh
npm uninstall {{packageScopedName}}
```

The command to remove **{{packageScopedName}}** from the global user environment is:

```sh
npm uninstall --location=global {{packageScopedName}}
```

{%- if isXpackBinary == "true" %}

<CommonNoAdministrativeRights />

{%- endif %}

## npx

If, for any reason, you decide not to install **{{packageScopedName}}**, you can still
benefit from it by utilising the `npx` command, as a trampoline to start **{{packageWebsiteConfig.programName}}**:

<CodeBlock language="console"> {
`$ npx {{packageWebsiteConfig.programName}} --version
{{releaseVersion}}
`} </CodeBlock>

However, for regular usage, this method is not efficient, since
**npx** will need to prepare the Node.js module
for each execution, and this takes some time.

## npm folders

For more details on the folders used by npm, refer to
[npm-folders](https://docs.npmjs.com/files/folders).
